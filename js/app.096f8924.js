(function(t){function e(e){for(var i,u,s=e[0],a=e[1],c=e[2],l=0,g=[];l<s.length;l++)u=s[l],Object.prototype.hasOwnProperty.call(r,u)&&r[u]&&g.push(r[u][0]),r[u]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);f&&f(e);while(g.length)g.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,s=1;s<n.length;s++){var a=n[s];0!==r[a]&&(i=!1)}i&&(o.splice(e--,1),t=u(u.s=n[0]))}return t}var i={},r={app:0},o=[];function u(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=t,u.c=i,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)u.d(n,i,function(e){return t[e]}.bind(null,i));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/teeter-totter-insider/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],a=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var f=a;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0776":function(t,e,n){"use strict";n("1642")},1642:function(t,e,n){},"1a54":function(t,e,n){"use strict";n("9b16")},"1f1c":function(t,e,n){},"3f93":function(t,e,n){},"46e4":function(t,e,n){"use strict";n("6f17")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("AppHeader"),n("Game"),n("GameOverPopup")],1)},o=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game"},[n("DropContainer"),n("TeetleTottle")],1)},s=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"drop-container"},t._l(t.fallingFigureList,(function(t){return n("Figure",{key:t.id,attrs:{figure:t}})})),1)},c=[],f=n("5530"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"figure",class:"figure figure-"+t.figure.type,style:t.style},[t._v(" "+t._s(t.figure.weight)+" ")])},g=[],d=(n("99af"),n("2f62")),p={name:"app-figure",props:{figure:{type:Object,required:!0},isRight:{type:Boolean},isOnSwing:{type:Boolean}},updated:function(){var t=this.getBottomCoordinate();this.updateBottomCoord(t)},computed:{leftOffset:function(){return this.isRight?50+10*this.figure.offset:50-10*this.figure.offset},style:function(){var t=this.figure,e=t.type,n=t.size,i=t.top,r=t.offsetBottom,o={height:"".concat(n,"px"),width:"".concat(n,"px"),lineHeight:"".concat(n,"px")};"triangle"===e&&(o={borderWidth:"0 ".concat(n,"px ").concat(n,"px ").concat(n,"px"),lineHeight:"".concat(1.2*n,"px")});var u=Object(f["a"])({top:this.isOnSwing?"-".concat(r,"px"):"".concat(i,"px"),left:"".concat(this.leftOffset,"%")},o);return u}},methods:Object(f["a"])(Object(f["a"])({},Object(d["d"])({updateBottomCoord:"UPDATE_FIGURE_BOTTOM_COORDINATE"})),{},{getBottomCoordinate:function(){return this.$refs.figure?this.$refs.figure.getBoundingClientRect().bottom:0}})},m=p,h=(n("ca66"),n("2877")),_=Object(h["a"])(m,l,g,!1,null,"404b3f62",null),L=_.exports,O={name:"Dropbox",components:{Figure:L},created:function(){this.initializeFallingFigures(),window.addEventListener("keydown",this.onKeyDown)},beforeUnmount:function(){window.removeEventListener("keydown",this.onKeyDown)},data:function(){return{iterationCounter:0}},computed:Object(f["a"])({},Object(d["c"])({fallingFigureList:"fallingFigureList"})),methods:Object(f["a"])(Object(f["a"])({},Object(d["d"])({initializeFallingFigures:"INITIALIZE_FALLING_FIGURES",moveRight:"MOVE_RIGHT",moveLeft:"MOVE_LEFT"})),{},{onKeyDown:function(t){39===t.keyCode&&this.moveRight(),37===t.keyCode&&this.moveLeft()}})},v=O,F=(n("1a54"),Object(h["a"])(v,a,c,!1,null,"13d206c7",null)),b=F.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"teetleTottle"},[n("Swing"),n("SwingPillar")],1)},I=[],T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"swing",staticClass:"swing",style:t.style},[t._l(t.leftFigureList,(function(t){return n("Figure",{key:t.id,attrs:{figure:t,isOnSwing:""}})})),t._l(t.rightFigureList,(function(t){return n("Figure",{key:t.id,attrs:{figure:t,isRight:"",isOnSwing:""}})}))],2)},G=[],A={name:"Swing",components:{Figure:L},created:function(){this.addRightFigure()},mounted:function(){this.onUpdateCoordinates()},updated:function(){this.onUpdateCoordinates()},computed:Object(f["a"])(Object(f["a"])({},Object(d["c"])({leftFigureList:"leftFigureList",rightFigureList:"rightFigureList",bending:"bending"})),{},{style:function(){return{transform:"rotate(".concat(this.bending/2,"deg)")}}}),methods:Object(f["a"])(Object(f["a"])({},Object(d["d"])({addRightFigure:"ADD_RIGHT_FIGURE",updateSwingCoordinates:"UPDATE_SWING_COORDINATES"})),{},{getCoordinates:function(){if(this.$refs.swing)return this.$refs.swing.getBoundingClientRect()},onUpdateCoordinates:function(){var t=this.getCoordinates();this.updateSwingCoordinates(t)}})},R=A,y=(n("84ce"),Object(h["a"])(R,T,G,!1,null,"78ea27c2",null)),w=y.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pillar"})},C=[],S={name:"swing-pillar"},P=S,D=(n("a528"),Object(h["a"])(P,j,C,!1,null,"5a7e0440",null)),U=D.exports,N={name:"teetle-tottle",components:{Swing:w,SwingPillar:U}},x=N,M=(n("46e4"),Object(h["a"])(x,E,I,!1,null,"5e8f76e8",null)),B=M.exports,$={name:"game",components:{DropContainer:b,TeetleTottle:B}},k=$,H=(n("0776"),Object(h["a"])(k,u,s,!1,null,"725c7883",null)),V=H.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header"},[t.isGameOver?[t._v("Press [space] to start new game")]:t.isPaused?[t._v("Press [space] to run game")]:[t._v("Press [space] to pause")]],2)},z=[],W={name:"app-header",created:function(){window.addEventListener("keyup",this.onKeyUp)},beforeUnmount:function(){window.removeEventListener("keyup",this.onKeyUp)},computed:Object(f["a"])({},Object(d["c"])({isPaused:"isPaused",isGameOver:"isGameOver"})),methods:Object(f["a"])(Object(f["a"])({},Object(d["b"])({togglePause:"ON_TOGGLE_PAUSE"})),{},{onKeyUp:function(t){32===t.keyCode&&this.togglePause()}})},Z=W,J=(n("fb43"),Object(h["a"])(Z,K,z,!1,null,"5c7c36a6",null)),Y=J.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"overlay",style:t.style},[t._m(0)])},Q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popup"},[n("div",[t._v("Game over!")])])}],X={name:"game-over-popup",computed:Object(f["a"])(Object(f["a"])({},Object(d["c"])({isGameOver:"isGameOver"})),{},{style:function(){return{opacity:this.isGameOver?1:0}}})},tt=X,et=(n("a90b"),Object(h["a"])(tt,q,Q,!1,null,"b571fdbe",null)),nt=et.exports,it={name:"App",components:{Game:V,AppHeader:Y,GameOverPopup:nt}},rt=it,ot=(n("5c0b"),Object(h["a"])(rt,r,o,!1,null,null,null)),ut=ot.exports,st=(n("4de4"),10),at=["circle","triangle","rectangle"],ct=(at.length,10),ft=1,lt=30,gt=20,dt=2,pt=10,mt=200,ht=10,_t=n("ec26");i["a"].use(d["a"]);var Lt=function(){var t=Math.floor(Math.random()*at.length),e=Math.floor(Math.random()*ct)+ft,n=10*e,i=n;return{id:Object(_t["a"])(),type:at[t],weight:e,offset:Math.floor(Math.random()*st/2)+1,size:n,top:i,bottomCoord:0,offsetBottom:0}},Ot=function(t){return t.reduce((function(t,e){var n=e.weight*e.offset;return t+n}),0)},vt=function(t,e){return t.filter((function(t){return t.offset===e.offset})).reduce((function(t,e){return t+e.size}),0)},Ft={isPaused:!0,intevalId:null,fallingFigureList:[],leftFigureList:[],rightFigureList:[],fallTimeout:mt,swingCoordinates:{}},bt={isPaused:function(t){return t.isPaused},fallingFigureList:function(t){return t.fallingFigureList},leftFigureList:function(t){return t.leftFigureList},rightFigureList:function(t){return t.rightFigureList},momentumLeft:function(t){return Ot(t.leftFigureList)},momentumRight:function(t){return Ot(t.rightFigureList)},bending:function(t,e){var n=e.momentumLeft,i=e.momentumRight;return n?n===i?0:n>i?(n-i)/n*-100:(i-n)/i*100:lt},getFigureFinalPositionFromTop:function(t,e){var n=e.bending;return function(e){var i=t.swingCoordinates,r=i.top,o=i.bottom,u=(o-r)/2,s=1-e.offset/(st/2),a=u*s;return n>=0?r+a-e.offsetBottom:o-a-e.offsetBottom}},isGameOver:function(t,e){if(!e.leftFigureList.length)return!1;var n=e.momentumLeft,i=e.momentumRight,r=e.bending;return Math.abs(r)>lt||Math.abs(n-i)>gt}},Et={TOGGLE_PAUSE:function(t){t.isPaused=!t.isPaused},ADD_RIGHT_FIGURE:function(t){var e=Lt(),n=vt(t.rightFigureList,e);t.rightFigureList.push(Object(f["a"])(Object(f["a"])({},e),{},{offsetBottom:n}))},ADD_LEFT_FIGURE:function(t){var e=t.fallingFigureList.shift(),n=vt(t.leftFigureList,e);t.leftFigureList.push(Object(f["a"])(Object(f["a"])({},e),{},{offsetBottom:n}))},INITIALIZE_FALLING_FIGURES:function(t){t.fallingFigureList=[];for(var e=0;e<dt;e++){var n=Lt();t.fallingFigureList.push(n)}},ADD_FALLING_FIGURE:function(t){var e=Lt();t.fallingFigureList.push(e)},MOVE_RIGHT:function(t){t.isPaused||t.fallingFigureList[0].offset-1<=0||(t.fallingFigureList[0].offset-=1,t.fallingFigureList[0].offsetBottom=vt(t.leftFigureList,t.fallingFigureList[0]))},MOVE_LEFT:function(t){t.isPaused||t.fallingFigureList[0].offset+1>5||(t.fallingFigureList[0].offset+=1,t.fallingFigureList[0].offsetBottom=vt(t.leftFigureList,t.fallingFigureList[0]))},MOVE_Y:function(t){t.isPaused||(t.fallingFigureList[0].top+=pt)},UPDATE_SWING_COORDINATES:function(t,e){t.swingCoordinates=e},UPDATE_FIGURE_BOTTOM_COORDINATE:function(t,e){t.fallingFigureList[0].bottomCoord=e},SET_INTERVAL_ID:function(t,e){t.intervalId=e},CLEAR_INTERVAL:function(t){t.intervalId&&clearInterval(t.intervalId)},DECREASE_FALL_TIMEOUT:function(t){t.fallTimeout-=ht},RESET:function(t){t.isPaused=!0,t.leftFigureList=[],t.rightFigureList=[],t.fallingFigureList=[],t.fallTimeout=mt,t.iterationCount=0}},It={ON_TOGGLE_PAUSE:function(t){var e=t.getters,n=t.dispatch,i=t.commit;if(e.isGameOver)n("START_NEW_GAME");else{i("TOGGLE_PAUSE");var r=e.isPaused;r?i("CLEAR_INTERVAL"):n("PROCESS_FALLING")}},PROCESS_FALLING:function(t){var e=t.state,n=t.getters,i=t.commit,r=t.dispatch,o=setInterval((function(){var t=e.fallingFigureList[0],u=n.getFigureFinalPositionFromTop(t);if(t.bottomCoord>=u-pt)return r("FINISH_FALLING"),void clearInterval(o);i("MOVE_Y")}),e.fallTimeout);i("SET_INTERVAL_ID",o)},FINISH_FALLING:function(t){var e=t.commit,n=t.getters,i=t.dispatch;e("ADD_LEFT_FIGURE"),e("ADD_FALLING_FIGURE"),e("ADD_RIGHT_FIGURE"),e("DECREASE_FALL_TIMEOUT"),n.isGameOver?e("CLEAR_INTERVAL"):i("PROCESS_FALLING")},START_NEW_GAME:function(t){var e=t.commit;e("RESET"),e("ADD_RIGHT_FIGURE"),e("INITIALIZE_FALLING_FIGURES")}},Tt=new d["a"].Store({state:Ft,getters:bt,mutations:Et,actions:It,strict:!1});i["a"].config.productionTip=!1,new i["a"]({store:Tt,render:function(t){return t(ut)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},6505:function(t,e,n){},"69c0":function(t,e,n){},"6f17":function(t,e,n){},"81f1":function(t,e,n){},"84ce":function(t,e,n){"use strict";n("6505")},"9b16":function(t,e,n){},"9c0c":function(t,e,n){},a528:function(t,e,n){"use strict";n("1f1c")},a90b:function(t,e,n){"use strict";n("81f1")},ca66:function(t,e,n){"use strict";n("69c0")},fb43:function(t,e,n){"use strict";n("3f93")}});
//# sourceMappingURL=app.096f8924.js.map